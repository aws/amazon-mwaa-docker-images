#!/bin/bash

# TODO Need to come up with a smaller list of constarints file including just
# the critical dependencies that we don't allow the customer to override, e.g.
# airflow, celery, kombu, and so on.

# Install all required packages in one command
# Add trusted-host flags to work around SSL certificate issues during build
pip3 install \
    --trusted-host pypi.org \
    --trusted-host files.pythonhosted.org \
    --trusted-host pypi.python.org \
    --constraint "${MWAA_ESSENTIAL_CONSTRAINTS_FILE}" \
    "$@"
