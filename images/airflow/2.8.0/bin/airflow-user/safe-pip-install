#!/bin/bash

# Define an array of required packages
REQUIRED_PACKAGES=(
    "apache-airflow-providers-amazon[aiobotocore]==${AIRFLOW_AMAZON_PROVIDERS_VERSION}"
    "apache-airflow[celery,statsd]==${AIRFLOW_VERSION}"
    "celery[sqs]"
    psycopg2
    pycurl
    watchtower
)

# Install all required packages in one command
pip3 install --constraint "${AIRFLOW_CONSTRAINTS_FILE}" "${REQUIRED_PACKAGES[@]}" "$@"
